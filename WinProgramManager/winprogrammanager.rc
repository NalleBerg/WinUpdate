#include <windows.h>
#include "resource.h"
#include <commctrl.h>

// Application icon
IDI_APP_ICON ICON "wpm_logo.ico"

// Logo bitmap (PNG)
IDB_PNG1 RCDATA "wpm_logo.png"

// Loading dialog
IDD_LOADING_DIALOG DIALOGEX 0, 0, 250, 65
STYLE DS_MODALFRAME | DS_CENTER | WS_POPUP | WS_CAPTION
CAPTION "Wait a moment...."
FONT 9, "Segoe UI", 700
BEGIN
    ICON            32516, IDC_LOADING_ICON, 15, 15, 21, 20
    LTEXT           "Repopulating table...", IDC_LOADING_TEXT, 45, 15, 190, 10, SS_CENTER
    LTEXT           "", IDC_LOADING_ANIMATE, 45, 30, 190, 30, SS_CENTER
END

// Search dialog
IDD_SEARCH_DIALOG DIALOGEX 0, 0, 450, 280
STYLE DS_MODALFRAME | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Search"
FONT 9, "Segoe UI"
BEGIN
    LTEXT           "Search in Categories:", -1, 10, 10, 430, 10
    EDITTEXT        IDC_SEARCH_CATEGORY, 10, 22, 430, 14, ES_AUTOHSCROLL
    
    LTEXT           "Search in Applications:", -1, 10, 45, 430, 10
    EDITTEXT        IDC_SEARCH_APP, 10, 57, 430, 14, ES_AUTOHSCROLL
    
    GROUPBOX        "Search Options", -1, 10, 80, 430, 75
    
    AUTORADIOBUTTON "Case Insensitive", IDC_CASE_INSENSITIVE, 20, 95, 100, 10, WS_GROUP
    AUTORADIOBUTTON "Case Sensitive", IDC_CASE_SENSITIVE, 130, 95, 100, 10
    
    AUTORADIOBUTTON "Contains", IDC_CONTAINS, 20, 110, 100, 10, WS_GROUP
    AUTORADIOBUTTON "Exact Match", IDC_EXACT_MATCH, 130, 110, 100, 10
    
    AUTOCHECKBOX    "Use Regular Expression", IDC_USE_REGEX, 20, 125, 150, 10
    
    AUTORADIOBUTTON "Search All", IDC_SEARCH_ALL, 20, 140, 100, 10, WS_GROUP
    AUTORADIOBUTTON "Refine Previous Results", IDC_REFINE_RESULTS, 130, 140, 150, 10
    
    LTEXT           "Leave category search empty to search all categories.\nLeave application search empty to show all applications in filtered categories.", -1, 10, 165, 430, 20
    
    DEFPUSHBUTTON   "Search", IDOK, 285, 250, 70, 20
    PUSHBUTTON      "Cancel", IDCANCEL, 365, 250, 70, 20
END

// App details dialog
IDD_APP_DETAILS DIALOGEX 0, 0, 420, 380
STYLE DS_MODALFRAME | DS_CENTER | WS_POPUP | WS_CAPTION | WS_SYSMENU
CAPTION "Application Details"
FONT 9, "Segoe UI"
BEGIN
    // Icon (left side, 48x48)
    CONTROL         "", IDC_APP_ICON, "Static", SS_BITMAP | SS_CENTERIMAGE, 12, 12, 48, 48
    
    // App name (large, bold via code)
    LTEXT           "App Name", IDC_APP_NAME, 70, 12, 340, 20, SS_NOPREFIX
    
    // Publisher
    LTEXT           "Publisher:", -1, 70, 35, 60, 10
    LTEXT           "...", IDC_APP_PUBLISHER, 135, 35, 275, 10
    
    // Version
    LTEXT           "Version:", -1, 70, 48, 60, 10
    LTEXT           "...", IDC_APP_VERSION, 135, 48, 100, 10
    
    // Package ID
    LTEXT           "Package ID:", -1, 12, 70, 60, 10
    LTEXT           "...", IDC_APP_PACKAGE_ID, 75, 70, 335, 10, SS_NOPREFIX
    
    // Source
    LTEXT           "Source:", -1, 12, 85, 60, 10
    LTEXT           "...", IDC_APP_SOURCE, 75, 85, 100, 10
    
    // Install status
    LTEXT           "Status:", -1, 12, 100, 60, 10
    LTEXT           "Not Installed", IDC_APP_STATUS, 75, 100, 200, 10
    
    // Description (multi-line, scrollable)
    GROUPBOX        "Description", -1, 12, 120, 396, 90
    EDITTEXT        IDC_APP_DESCRIPTION, 20, 135, 380, 68, ES_MULTILINE | ES_READONLY | ES_AUTOVSCROLL | WS_VSCROLL
    
    // Technical details
    GROUPBOX        "Technical Information", -1, 12, 215, 396, 65
    LTEXT           "Homepage:", -1, 20, 230, 60, 10
    LTEXT           "...", IDC_APP_HOMEPAGE, 85, 230, 315, 10, SS_NOPREFIX
    LTEXT           "License:", -1, 20, 245, 60, 10
    LTEXT           "...", IDC_APP_LICENSE, 85, 245, 315, 10
    LTEXT           "Installer Type:", -1, 20, 260, 60, 10
    LTEXT           "...", IDC_APP_INSTALLER, 85, 260, 100, 10
    LTEXT           "Architecture:", -1, 200, 260, 60, 10
    LTEXT           "...", IDC_APP_ARCH, 265, 260, 100, 10
    
    // Tags
    GROUPBOX        "Tags", -1, 12, 285, 396, 55
    EDITTEXT        IDC_APP_TAGS, 20, 300, 380, 33, ES_MULTILINE | ES_READONLY | ES_AUTOVSCROLL | WS_VSCROLL
    
    // Buttons (Install/Uninstall disabled for now)
    PUSHBUTTON      "Install", IDC_BTN_INSTALL, 12, 350, 70, 14, WS_DISABLED
    PUSHBUTTON      "Uninstall", IDC_BTN_UNINSTALL, 88, 350, 70, 14, WS_DISABLED
    DEFPUSHBUTTON   "Close", IDOK, 338, 350, 70, 14
END

// Version information
VS_VERSION_INFO VERSIONINFO
FILEVERSION 1,0,0,0
PRODUCTVERSION 1,0,0,0
FILEFLAGSMASK 0x3fL
FILEFLAGS 0x0L
FILEOS VOS_NT_WINDOWS32
FILETYPE VFT_APP
FILESUBTYPE 0x0L
BEGIN
    BLOCK "StringFileInfo"
    BEGIN
        BLOCK "040904b0"
        BEGIN
            VALUE "CompanyName", "NalleBerg"
            VALUE "FileDescription", "Windows Program Manager"
            VALUE "FileVersion", "1.0.0.0"
            VALUE "InternalName", "WinProgramManager"
            VALUE "LegalCopyright", "Copyright (C) 2026"
            VALUE "OriginalFilename", "WinProgramManager.exe"
            VALUE "ProductName", "WinProgram Manager"
            VALUE "ProductVersion", "1.0.0.0"
        END
    END
    BLOCK "VarFileInfo"
    BEGIN
        VALUE "Translation", 0x409, 1200
    END
END
